webpackJsonp([6],{FuAw:function(e,t){},NDM6:function(e,t){},gix7:function(e,t){},lGWT:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("nnoD"),o=i("iqGf"),a=(i("NDM6"),i("7+uW")),n={components:{videoPlayer:o.videoPlayer},data:function(){return{playerOptions:{muted:!1,playbackRates:[.5,1,1.5,2],autoplay:!1,language:"en",preload:"meta",notSupportedMessage:"此视频暂无法播放，请稍后再试",sources:[{type:this.videoData.videoType,src:this.videoData.src}],poster:this.videoData.videoImg,width:document.documentElement.clientWidth/2,height:250},showClose:!1}},props:["videoData"],computed:{player:function(){return this.$refs.minVideo.player}},methods:{close:function(e){"closeVideo"===e.target.id&&(this.player.pause(),this.player.exitFullscreen(),this.player.isFullscreen(!1),this.$refs.minVideo.$el.querySelector(".closeVideo").style="display:none")},clickProcess:function(e){"markCss"===e.target.id?this.player.isFullscreen()||(this.player.play(),this.player.requestFullscreen(),this.player.isFullscreen(!0),this.$refs.minVideo.$el.querySelector(".closeVideo").style="display:block!important"):"delItem"===e.target.id&&this.$emit("delVideo")}},mounted:function(){var e=(new(a.a.extend({template:"<div class='closeVideo' @click='close($event)'><mu-icon value=':icon-close' color='white' size='24' id='closeVideo'></mu-icon></div>",methods:{close:function(){}}}))).$mount("#closeBtn");this.$refs.minVideo.$el.querySelector(".video-js").appendChild(e.$el),this.$refs.minVideo.$el.querySelector("video").setAttribute("x5-video-orientation","portraint"),this.$refs.minVideo.$el.querySelector("video").setAttribute("x5-video-player-fullscreen",!0),this.$refs.minVideo.$el.querySelector("video").style="object-fit: fill"},beforeDestroy:function(){this.$refs.minVideo.dispose()}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"video-wrap",on:{click:function(t){e.close(t)}}},[i("div",{staticClass:"videoContent"},[i("video-player",{ref:"minVideo",staticClass:"vjs-custom-skin",attrs:{options:e.playerOptions,playsinline:!0}}),e._v(" "),i("div",{staticClass:"detail"},[i("div",{staticClass:"title"},[e._v(e._s(e.videoData.title))]),e._v(" "),i("div",{staticClass:"info"},[i("mu-icon",{attrs:{value:":icon-video",size:"20"}}),e._v(" "),i("span",{staticClass:"playCount"},[e._v(e._s(e.videoData.playCount)+"万次播放")]),e._v(" "),i("span",{staticClass:"zanCount"},[e._v(e._s(e.videoData.pinglun)+"万赞")])],1)]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.showClose,expression:"!showClose"}],staticClass:"clickProcess",attrs:{id:"markCss"},on:{click:function(t){e.clickProcess(t)}}},[i("mu-icon",{directives:[{name:"show",rawName:"v-show",value:!e.showClose,expression:"!showClose"}],ref:"all",staticClass:"closeIcon",attrs:{value:":icon-close",id:"delItem"}})],1)],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{id:"closeBtn"}})])},staticRenderFns:[]};var l=i("VU/8")(n,r,!1,function(e){i("t60q"),i("FuAw")},"data-v-5adfd8fa",null).exports,d={components:{footerBar:s.a,minVideo:l},data:function(){return{barList:[{id:0,name:"关注"},{id:1,name:"推荐"},{id:2,name:"附近"},{id:3,name:"活动"}],height:0,width:0,video:[],selectItem:this.$store.state.minVideo.selectTabIndex,loading:!1,loadResult:!1,loadMore:!1,refreshing:!1}},computed:{itemList:function(){return this.$store.state.video.videoResult},refresh:function(){return this.$store.state.minVideo.refresh}},watch:{refresh:function(e,t){e&&(this.refreshData(),this.$store.state.minVideo.refresh=!1)}},mounted:function(){this.loadData(this.selectItem)},methods:{loadData:function(e){var t=this;this.loading=!0,this.$store.dispatch("video/getVideos",{typeId:e}),setTimeout(function(){t.loading=!1,t.loadResult=!0},500)},loadMoreData:function(){var e=this;this.loadMore=!0,setTimeout(function(){e.loadMore=!1,e.$store.dispatch("video/loadMore",{typeId:e.selectItem})},1e3)},refreshData:function(){var e=this;this.refreshing=!0,setTimeout(function(){e.refreshing=!1,e.$store.dispatch("video/refreshData",{typeId:e.selectItem})},1e3)}}},c={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("article",{ref:"all",staticClass:"minVideo-wrap"},[i("section",{staticClass:"header-wrap df-sb"},[i("div",{staticClass:"left df-sa"},e._l(e.barList,function(t){return i("div",{key:t.id,class:{tabActive:e.selectItem===t.id},on:{click:function(i){e.selectItem=t.id}}},[e._v(e._s(t.name))])})),e._v(" "),i("div",{staticClass:"right df-sa"},[i("mu-icon",{attrs:{value:":icon-shipin",size:"26"}}),e._v(" "),i("span",[e._v("发布")])],1)]),e._v(" "),e._l(e.barList,function(t){return e.selectItem===t.id?i("div",{key:t.id,staticClass:"itemContent"},[i("mu-load-more",{attrs:{loading:e.loadMore,refreshing:e.refreshing,"loading-text":"推荐中"},on:{load:e.loadMoreData,refresh:e.refreshData}},[e.refreshing?i("div",{staticClass:"df-c updateHit"},[e._v("推荐中")]):e._e(),e._v(" "),i("div",{staticClass:"tabItem"},e._l(e.itemList,function(t,s){return i("minVideo",{key:t.id,staticClass:"videoItem",attrs:{videoData:t},on:{delVideo:function(t){e.itemList.splice(s,1)}}})}))])],1):e._e()}),e._v(" "),i("footerBar")],2)},staticRenderFns:[]};var u=i("VU/8")(d,c,!1,function(e){i("gix7")},"data-v-25172a74",null);t.default=u.exports},t60q:function(e,t){}});
//# sourceMappingURL=6.a4bd8343cb2b2ea4033e.js.map